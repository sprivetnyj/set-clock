(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p,e.p;const t={Tap1:new Howl({src:"./audio/tap_1.wav",html5:!0}),Tap2:new Howl({src:"./audio/tap_2.wav",html5:!0}),Tap3:new Howl({src:"./audio/tap_3.wav",html5:!0}),Tap4:new Howl({src:"./audio/tap_4.wav",html5:!0}),Tap5:new Howl({src:"./audio/tap_5.wav",html5:!0}),Tap6:new Howl({src:"./audio/tap_6.wav",html5:!0}),Tap7:new Howl({src:"./audio/tap_7.wav",html5:!0}),Tap8:new Howl({src:"./audio/tap_8.wav",html5:!0}),Tap9:new Howl({src:"./audio/tap_9.wav",html5:!0}),Tap10:new Howl({src:"./audio/tap_10.wav",html5:!0}),Tap11:new Howl({src:"./audio/tap_11.wav",html5:!0}),Tap12:new Howl({src:"./audio/tap_12.wav",html5:!0}),Tap13:new Howl({src:"./audio/tap_13.wav",html5:!0}),Tap14:new Howl({src:"./audio/tap_14.wav",html5:!0}),Tap15:new Howl({src:"./audio/tap_15.wav",html5:!0}),Tap16:new Howl({src:"./audio/tap_16.wav",html5:!0}),Tap17:new Howl({src:"./audio/tap_17.wav",html5:!0}),Tap1:new Howl({src:"./audio/tap_1.wav",html5:!0}),Tap18:new Howl({src:"./audio/tap_18.wav",html5:!0}),Tap19:new Howl({src:"./audio/tap_19.wav",html5:!0}),Tap20:new Howl({src:"./audio/tap_20.wav",html5:!0}),Tap21:new Howl({src:"./audio/tap_21.wav",html5:!0}),Tap22:new Howl({src:"./audio/tap_22.wav",html5:!0}),Click:new Howl({src:"./audio/click.mp3",html5:!0}),End:new Howl({src:"./audio/end.mp3",html5:!0}),Record:new Howl({src:"./audio/record.mp3",html5:!0})};let o=!1,n=10;const a=["Над часами указано время, которое тебе стоит настроить","Кликни по экрану, когда часовая стрелка будет равна 10 часам","Супер! Теперь попробуй для минутной стрелки","Молодец! Осталась секундная стрелка","Отлично! Время изменилось, теперь тебе доступен множитель","С каждой успешной стрелкой твои очки будут множиться","Но если ошибешься, множитель пропадет","Теперь попробуй уложиться в таймер под временем","С каждой успешной стрелкой он пополняется","При ошибке таймер убавиться, приблизив тебя к проигрышу","Успехов и приятной игры!"];vkBridge.send("VKWebAppInit");const r=document.querySelector("canvas");r.getContext("2d");const i=640/360;r.width=360,r.height=640;let l=1;const d=document.querySelector(".wrapper"),s=document.querySelectorAll(".screen"),c=document.querySelector(".screen--start"),p=document.querySelector(".screen--game"),u=document.querySelector(".screen--end"),m=document.querySelector(".post"),h=document.querySelector(".invite"),w=document.querySelector(".play"),g=document.querySelector(".volume"),v=document.querySelector(".group"),y=document.querySelector(".home"),T=document.querySelector(".restart"),f=document.querySelector(".result"),S=document.querySelector(".highscore"),_=document.querySelector(".score-value"),H=document.querySelector(".score-x div"),q=document.querySelector(".time__hour"),x=document.querySelector(".time__minute"),k=document.querySelector(".time__second"),C=document.querySelector(".time__bar"),E=document.querySelector(".tooltip"),b=document.querySelectorAll(".number"),L=document.querySelector(".hour"),$=document.querySelector(".minute"),A=document.querySelector(".second"),W=document.querySelector(".training__text"),B=document.querySelector(".preloader");let V=!1,M=!0,K=0,I=0;vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((e=>{e.keys[0].value.length?W.parentElement.classList.add("hidden"):(e.keys[0].value="0",o=!0,n=0),S.firstElementChild.textContent=e.keys[0].value,setTimeout((()=>{B.classList.add("hidden")}),2e3),ue()})),W.textContent=a[0];const P=["--color-red","--color-orange","--color-yellow","--color-green","--color-blue-light","--color-blue","--color-purple"].map((e=>getComputedStyle(document.documentElement).getPropertyValue(e).trimStart())),G=["Tap1","Tap2","Tap3","Tap4","Tap5","Tap6","Tap7","Tap8","Tap9","Tap10","Tap11","Tap12","Tap13","Tap14","Tap15","Tap16","Tap17","Tap18","Tap19","Tap20","Tap21","Tap22"];let N,F,O,j,R,z=0,J=0,U=2,D=15,Q=D;function X(){setTimeout((()=>{V=!0,f.classList.remove("record")}),1e3),le()}setInterval((()=>{V&&(n>=7&&(Q-=.016,Q=Math.min(Q,D),C.style=`--width:${Q/D*100}%`,Q<=0&&(n<10?Q=60:(V=!1,M&&t.End.play(),U=2,D=15,Q=D,Z=20,te=0,oe=-1,ne=-1,ae=1,re=1.1,setTimeout((()=>{vkBridge.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((()=>{vkBridge.send("VKWebAppShowNativeAds",{ad_format:"interstitial"})})),function(){const e=K;K=0,vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((o=>{e>o.keys[0].value&&(I=e,vkBridge.send("VKWebAppStorageSet",{key:"highscore21",value:String(I)}),S.firstElementChild.textContent=I,f.classList.add("record"),M&&setTimeout((()=>{t.Record.play()}),1e3))})),f.firstElementChild.textContent=e,se(u),setTimeout((()=>{z=0,C.style=`--width:${Q/D*100}%`,ee=0,_.textContent=0,H.textContent=ee,H.parentElement.classList.add("hidden"),ce(b,"remove",["active"]),ce([q,x,k],"remove",["active"]),ce([L,$,A],"remove",["active"]),ue()}),1e3)}()}),500)))),n>0&&(J<360?J+=U:J=0),0===z?L.style=`--deg:${J}deg`:1===z?$.style=`--deg:${J}deg`:2===z&&(A.style=`--deg:${J}deg`))}),16.666);let Y=0,Z=20,ee=0,te=0,oe=-1,ne=-1,ae=1,re=1.1;function ie(){n++,de([W.parentElement],200)}function le(){N=[0,5,10,15,20,25,30,35,40,45,50,55],F=0===n?10:Math.floor(12*Math.random()),N.splice(N.indexOf(5*F),1),O=0===n?10:N[Math.floor(Math.random()*N.length)],N.splice(N.indexOf(O),1),j=0===n?30:N[Math.floor(Math.random()*N.length)],R=30*F,L.classList.add("active"),me(F,q),me(O,x),me(j,k),K>0&&(ce(b,"remove",["active"]),de([q,x,k],200),ce([q,x,k],"remove",["active"]),D>=6.5&&(D-=.75),z=0,Y<6?Y++:Y=0,document.documentElement.style=`--color-active:${P[Y]}`),J=parseInt(L.style.getPropertyValue("--deg"))}function de(e,t){e.forEach((e=>{e.classList.add("scale"),setTimeout((()=>{e.classList.remove("scale")}),t)}))}function se(e){s.forEach((t=>{let o="hidden--left",n="hidden--right";e.classList.contains("hidden--left")&&(o="hidden--right",n="hidden--left"),t.classList.contains("hidden")?t===e&&ce([t],"remove",["hidden",n],500):ce([t],"add",["hidden",o],500)}))}function ce(e,t,o,n=0){setTimeout((()=>{e.forEach((e=>{o.forEach((o=>{"add"===t?e.classList.add(o):e.classList.remove(o)}))}))}),n)}function pe(e,t){let o,n;R=6*e,t.classList.remove("active"),e===O?(o=$,n=q):e===j&&(o=A,n=x),ce([o,n],"add",["active"]),J=parseInt(o.style.getPropertyValue("--deg"))}function ue(){o?(L.style="--deg:90deg",$.style="--deg:180deg",A.style="--deg:240deg"):(L.style=`--deg:${360*Math.random()}deg`,$.style=`--deg:${360*Math.random()}deg`,A.style=`--deg:${360*Math.random()}deg`)}function me(e,t){e<10?(t.textContent=`0${e}`,e===F&&0===e&&(t.textContent="12")):t.textContent=e}function he(e,t,o,n){let a=Math.abs(e);return a%=100,a>=5&&a<=20?n:(a%=10,1===a?t:a>=2&&a<=4?o:n)}function we(){const e=window.innerHeight/window.innerWidth;i>e?(r.width=window.innerHeight/i,r.height=window.innerHeight,l=window.innerHeight/640,d.style=`--scale:${l}`):(r.width=window.innerWidth,r.height=window.innerWidth*i,l=window.innerWidth/360,d.style=`--scale:${l}`)}document.addEventListener("click",(e=>{const r=e.target;if(r===w)se(p),X();else if(r===g)M=!M,g.classList.toggle("off");else if(r===v)vkBridge.send("VKWebAppJoinGroup",{group_id:213140436});else if(r===m){const e=S.firstElementChild.textContent;vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((()=>{vkBridge.send("VKWebAppShowWallPostBox",{message:`Мой рекорд в игре Настрой Часы! ⏰ - ${e} ${he(e,"очко","очка","очков")}! сможешь побить?\n\nOrby Games (vk.com/orby.games) - бесплатные игры для ВКонтакте. Присоединяйтесь!\n\n#игры #vkgames #directgames`,attachments:"https://vk.com/app8163432"})}))}else if(r===h)vkBridge.send("VKWebAppShowInviteBox");else if(r===T)se(p),X();else if(r===y)se(c),ce([p],"remove",["hidden","hidden--left"]),ce([p],"add",["hidden","hidden--right"]);else if(V){let e=J>=R-Z&&J<=R+Z;if(0===R&&(e=J>=345&&J<=360||J<=Z),e){for(const e of b)if(parseInt(e.style.getPropertyValue("--deg"))===R){if(e.classList.add("active"),de([e],200),n>=3?(ee++,-1===oe&&(U<=4&&(U+=.015),Z<=22.5&&(Z+=.005)),ee>1&&(2===ee&&(oe=U,ne=Z,H.parentElement.classList.remove("hidden")),U<=5&&(U+=.06),Z<=22.5&&(Z+=.01),H.textContent=ee,ae-=.025,re+=.025,H.parentElement.style=`--delay:${Math.max(ae,.3)}s;--transform:${Math.min(re,1.8)}`),K+=1*ee):K++,n>=7){const e=Q,t=D/4;let o;o=e+t>D?D-e:t,Q+=t,E.textContent=`+${o.toFixed(1)} с`,de([E],600)}_.textContent=K,de([_],200),M&&(t[G[te]].play(),te<21&&te++),0===z?(pe(O,L),n<10&&ie()):1===z?(pe(j,$),n<10&&ie()):2===z&&(A.classList.remove("active"),k.classList.add("active"),setTimeout((()=>{le()}),200),n<10&&ie()),z++;break}}else n>=6&&(te=0,U<=4&&-1!==oe&&(U=1.1*oe,Z=1.05*ne),ee=0,ae=1,re=1.1,H.parentElement.style="",H.parentElement.classList.add("hidden"),setTimeout((()=>{H.textContent=ee}),400)),n>=7&&n<10&&n++,n>=9&&(Q-=D/6,E.textContent=`-${(D/6).toFixed(1)} с`,de([E],600),M&&Q>=D/6&&t.End.play());o&&(0===n&&ie(),W.textContent=a[n],n>=10&&setTimeout((()=>{W.parentElement.classList.add("hidden"),E.textContent=`+${(D-Q).toFixed(1)} с`,de([E],600),Q=D,o=!1}),2e3))}"BUTTON"===r.tagName&&(de([r],200),M&&t.Click.play())})),we(),window.addEventListener("resize",we)})();