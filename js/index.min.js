(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var o=e.g.document;if(!t&&o&&(o.currentScript&&(t=o.currentScript.src),!t)){var n=o.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"../audio/record.mp3",o=e.p+"../audio/click.mp3",n=e.p+"../audio/end.mp3",i=e.p+"../audio/tap_1.wav",r=e.p+"../audio/tap_2.wav",a=e.p+"../audio/tap_3.wav",d=e.p+"../audio/tap_4.wav",s=e.p+"../audio/tap_5.wav",c=e.p+"../audio/tap_6.wav",l=e.p+"../audio/tap_7.wav",u=e.p+"../audio/tap_8.wav",p=e.p+"../audio/tap_9.wav",m=e.p+"../audio/tap_10.wav",h=e.p+"../audio/tap_11.wav",g=e.p+"../audio/tap_12.wav",v=e.p+"../audio/tap_13.wav",y=e.p+"../audio/tap_14.wav",w=e.p+"../audio/tap_15.wav",f=e.p+"../audio/tap_16.wav",S=e.p+"../audio/tap_17.wav",_=e.p+"../audio/tap_18.wav",q=e.p+"../audio/tap_19.wav",x=e.p+"../audio/tap_20.wav",k=e.p+"../audio/tap_21.wav",b=e.p+"../audio/tap_22.wav";let C=!1,$=10;const E=["Над часами указано время, которое тебе стоит настроить","Кликни по экрану, когда часовая стрелка будет равна 10 часам","Супер! Теперь попробуй для минутной стрелки","Молодец! Осталась секундная стрелка","Отлично! Время изменилось, теперь тебе доступен множитель","С каждой успешной стрелкой твои очки будут множиться","Но если ошибешься, множитель пропадет","Теперь попробуй уложиться в таймер под временем","С каждой успешной стрелкой он пополняется","При ошибке таймер убавиться, приблизив тебя к проигрышу","Успехов и приятной игры!"];vkBridge.send("VKWebAppInit");const L=document.querySelector("canvas");L.getContext("2d");const A=640/360;L.width=360,L.height=640;let T=1;const W=document.querySelector(".wrapper"),B=document.querySelectorAll(".screen"),V=document.querySelector(".screen--start"),M=document.querySelector(".screen--game"),K=document.querySelector(".screen--end"),I=document.querySelector(".post"),P=document.querySelector(".invite"),G=document.querySelector(".play"),N=document.querySelector(".volume"),F=document.querySelector(".group"),H=document.querySelector(".home"),O=document.querySelector(".restart"),j=document.querySelector(".result"),z=document.querySelector(".highscore"),J=document.querySelector(".score-value"),U=document.querySelector(".score-x div"),D=document.querySelector(".time__hour"),Q=document.querySelector(".time__minute"),R=document.querySelector(".time__second"),X=document.querySelector(".time__bar"),Y=document.querySelector(".tooltip"),Z=document.querySelectorAll(".number"),ee=document.querySelector(".hour"),te=document.querySelector(".minute"),oe=document.querySelector(".second"),ne=document.querySelector(".training__text"),ie=document.querySelector(".preloader");let re=!1,ae=!0,de=0,se=0;vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((e=>{e.keys[0].value.length?ne.parentElement.classList.add("hidden"):(e.keys[0].value="0",C=!0,$=0),z.firstElementChild.textContent=e.keys[0].value,setTimeout((()=>{ie.classList.add("hidden")}),2e3),Ie()})),ne.textContent=E[0];let ce={};const le=[i,r,a,d,s,c,l,u,p,m,h,g,v,y,w,f,S,_,q,x,k,b],ue=["--color-red","--color-orange","--color-yellow","--color-green","--color-blue-light","--color-blue","--color-purple"].map((e=>getComputedStyle(document.documentElement).getPropertyValue(e).trimStart()));let pe,me,he,ge,ve,ye=0,we=0,fe=2,Se=15,_e=Se;function qe(){setTimeout((()=>{re=!0,j.classList.remove("record")}),1e3),We()}setInterval((()=>{re&&($>=7&&(_e-=.016,_e=Math.min(_e,Se),X.style=`--width:${_e/Se*100}%`,_e<=0&&($<10?_e=60:(re=!1,ae&&Ge(n),fe=2,Se=15,_e=Se,ke=20,Ce=1,$e=-1,Ee=-1,Le=1,Ae=1.1,setTimeout((()=>{vkBridge.send("VKWebAppCheckNativeAds",{ad_format:"interstitial"}).then((()=>{vkBridge.send("VKWebAppShowNativeAds",{ad_format:"interstitial"})})),function(){const e=de;de=0,vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((o=>{e>o.keys[0].value&&(se=e,vkBridge.send("VKWebAppStorageSet",{key:"highscore21",value:String(se)}),z.firstElementChild.textContent=se,j.classList.add("record"),ae&&setTimeout((()=>{Ge(t)}),1e3))})),j.firstElementChild.textContent=e,Ve(K),setTimeout((()=>{ye=0,X.style=`--width:${_e/Se*100}%`,be=0,J.textContent=0,U.textContent=be,U.parentElement.classList.add("hidden"),Me(Z,"remove",["active"]),Me([D,Q,R],"remove",["active"]),Me([ee,te,oe],"remove",["active"]),Ie()}),1e3)}()}),500)))),$>0&&(we<360?we+=fe:we=0),0===ye?ee.style=`--deg:${we}deg`:1===ye?te.style=`--deg:${we}deg`:2===ye&&(oe.style=`--deg:${we}deg`))}),16.666);let xe=0,ke=20,be=0,Ce=1,$e=-1,Ee=-1,Le=1,Ae=1.1;function Te(){$++,Be([ne.parentElement],200)}function We(){pe=[0,5,10,15,20,25,30,35,40,45,50,55],me=0===$?10:Math.floor(12*Math.random()),pe.splice(pe.indexOf(5*me),1),he=0===$?10:pe[Math.floor(Math.random()*pe.length)],pe.splice(pe.indexOf(he),1),ge=0===$?30:pe[Math.floor(Math.random()*pe.length)],ve=30*me,ee.classList.add("active"),Pe(me,D),Pe(he,Q),Pe(ge,R),de>0&&(Me(Z,"remove",["active"]),Be([D,Q,R],200),Me([D,Q,R],"remove",["active"]),Se>=6.5&&(Se-=.75),ye=0,xe<6?xe++:xe=0,document.documentElement.style=`--color-active:${ue[xe]}`),we=parseInt(ee.style.getPropertyValue("--deg"))}function Be(e,t){e.forEach((e=>{e.classList.add("scale"),setTimeout((()=>{e.classList.remove("scale")}),t)}))}function Ve(e){B.forEach((t=>{let o="hidden--left",n="hidden--right";e.classList.contains("hidden--left")&&(o="hidden--right",n="hidden--left"),t.classList.contains("hidden")?t===e&&Me([t],"remove",["hidden",n],500):Me([t],"add",["hidden",o],500)}))}function Me(e,t,o,n=0){setTimeout((()=>{e.forEach((e=>{o.forEach((o=>{"add"===t?e.classList.add(o):e.classList.remove(o)}))}))}),n)}function Ke(e,t){let o,n;ve=6*e,t.classList.remove("active"),e===he?(o=te,n=D):e===ge&&(o=oe,n=Q),Me([o,n],"add",["active"]),we=parseInt(o.style.getPropertyValue("--deg"))}function Ie(){C?(ee.style="--deg:90deg",te.style="--deg:180deg",oe.style="--deg:240deg"):(ee.style=`--deg:${360*Math.random()}deg`,te.style=`--deg:${360*Math.random()}deg`,oe.style=`--deg:${360*Math.random()}deg`)}function Pe(e,t){e<10?(t.textContent=`0${e}`,e===me&&0===e&&(t.textContent="12")):t.textContent=e}function Ge(e,t=!0){const o=new Audio,n=`./${e.split("../")[1]}`,i=n.split("audio/")[1].split(".")[0];o.src=n,ce[i]=o,t&&ce[i].play()}function Ne(e,t,o,n){let i=Math.abs(e);return i%=100,i>=5&&i<=20?n:(i%=10,1===i?t:i>=2&&i<=4?o:n)}function Fe(){const e=window.innerHeight/window.innerWidth;A>e?(L.width=window.innerHeight/A,L.height=window.innerHeight,T=window.innerHeight/640,W.style=`--scale:${T}`):(L.width=window.innerWidth,L.height=window.innerWidth*A,T=window.innerWidth/360,W.style=`--scale:${T}`)}document.addEventListener("click",(e=>{const t=e.target;if(t===G)Ve(M),qe();else if(t===N)ae=!ae,N.classList.toggle("off");else if(t===F)vkBridge.send("VKWebAppJoinGroup",{group_id:213140436});else if(t===I){const e=z.firstElementChild.textContent;vkBridge.send("VKWebAppStorageGet",{keys:["highscore21"]}).then((()=>{vkBridge.send("VKWebAppShowWallPostBox",{message:`Мой рекорд в игре Настрой часы! ⏰ - ${e} ${Ne(e,"очко","очка","очков")}! сможешь побить?\n\nOrby Games (vk.com/orby.games) - бесплатные игры для ВКонтакте. Присоединяйтесь!\n\n#игры #vkgames #directgames`,attachments:"https://vk.com/app8163432"})}))}else if(t===P)vkBridge.send("VKWebAppShowInviteBox");else if(t===O)Ve(M),qe();else if(t===H)Ve(V),Me([M],"remove",["hidden","hidden--left"]),Me([M],"add",["hidden","hidden--right"]);else if(re){let e=we>=ve-ke&&we<=ve+ke;if(0===ve&&(e=we>=345&&we<=360||we<=ke),e){for(const e of Z)if(parseInt(e.style.getPropertyValue("--deg"))===ve){if(e.classList.add("active"),Be([e],200),$>=3?(be++,-1===$e&&(fe<=4&&(fe+=.015),ke<=22.5&&(ke+=.005)),be>1&&(2===be&&($e=fe,Ee=ke,U.parentElement.classList.remove("hidden")),fe<=5&&(fe+=.06),ke<=22.5&&(ke+=.01),U.textContent=be,Le-=.025,Ae+=.025,U.parentElement.style=`--delay:${Math.max(Le,.3)}s;--transform:${Math.min(Ae,1.8)}`),de+=1*be):de++,$>=7){const e=_e,t=Se/4;let o;o=e+t>Se?Se-e:t,_e+=t,Y.textContent=`+${o.toFixed(1)} с`,Be([Y],600)}J.textContent=de,Be([J],200),ae&&(Ge(le[Ce-1],!1),ce[`tap_${Ce}`].play(),Ce<le.length&&Ce++),0===ye?(Ke(he,ee),$<10&&Te()):1===ye?(Ke(ge,te),$<10&&Te()):2===ye&&(oe.classList.remove("active"),R.classList.add("active"),setTimeout((()=>{We()}),200),$<10&&Te()),ye++;break}}else $>=6&&(Ce=1,fe<=4&&-1!==$e&&(fe=1.1*$e,ke=1.05*Ee),be=0,Le=1,Ae=1.1,U.parentElement.style="",U.parentElement.classList.add("hidden"),setTimeout((()=>{U.textContent=be}),400)),$>=7&&$<10&&$++,$>=9&&(_e-=Se/6,Y.textContent=`-${(Se/6).toFixed(1)} с`,Be([Y],600),ae&&_e>=Se/6&&Ge(n));C&&(0===$&&Te(),ne.textContent=E[$],$>=10&&setTimeout((()=>{ne.parentElement.classList.add("hidden"),Y.textContent=`+${(Se-_e).toFixed(1)} с`,Be([Y],600),_e=Se,C=!1}),2e3))}"BUTTON"===t.tagName&&(Be([t],200),ae&&Ge(o))})),Fe(),window.addEventListener("resize",Fe)})();